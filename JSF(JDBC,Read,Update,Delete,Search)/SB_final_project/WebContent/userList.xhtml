<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:p="http://primefaces.org/ui">

<f:metadata>
  <f:event type="preRenderView" listener="#{userController.loadUsers()}"/>
</f:metadata>

<h:head>
	<meta name="viewport" content="width=device-width, initial-scale=1.0" />
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />

	<title>User List</title>
	
	<h:outputStylesheet library="css" name="style.css"  />
	
</h:head>

<h:body>

	<div id="container">

		<div id="content">
		
			<h:messages globalOnly="true" />
		
			<h:button value="Add User" styleClass="add-student-button" outcome="userRegistration"/>			


            <!-- /////////////////////////////////////  ADD A SEARCH BOX ///////////////////////////////////// -->
			<h:form>
		
				<h:inputText value="#{userController.theSearchName}" id="theSearchName" />				
				<h:commandButton value="Search" action="userList?faces-redirect=true" styleClass="add-student-button" /> 
								           
            
            </h:form>


<h:form> 
    <p:dataScroller value="#{userController.users}" var="tempUser" chunkSize="3">
        <f:facet name="header">
            Scroll Down to Load More Users
        </f:facet>
 
        <h:panelGrid columns="2" style="width:100%" columnClasses="logo,detail">
            <p:graphicImage name="img/noavatar.png" width="100"/> 
 
            <p:outputPanel>
                <h:panelGrid columns="2" cellpadding="1">
                    <h:outputText value="Id:" style="font-weight: bold" />
                    <h:outputText value="#{tempUser.id}" />
 
                    <h:outputText value="firstName:" style="font-weight: bold"/>
                    <h:outputText value="#{tempUser.firstName}" />
 
                    <h:outputText value="lastName:" style="font-weight: bold"/>
                    <h:outputText value="#{tempUser.lastName}" />
                    
                    <h:outputText value="phone:" style="font-weight: bold"/>
                    <h:outputText value="#{tempUser.phone}" />
                    
                    <h:outputText value="address:" style="font-weight: bold"/>
                    <h:outputText value="#{tempUser.address}" />
                    
                    <h:outputText value="email:" style="font-weight: bold"/>
                    <h:outputText value="#{tempUser.email}" />
                    
                    <h:outputText value="username:" style="font-weight: bold"/>
                    <h:outputText value="#{tempUser.username}" />
                    
                    <h:outputText value="password:" style="font-weight: bold"/>
                    <h:outputText value="#{tempUser.password}" />
                    
                    <h:outputText value="receiving:" style="font-weight: bold"/>
                    <h:outputText value="#{tempUser.receiving}" />
                    
                    <h:outputText value="profileType:" style="font-weight: bold"/>
                    <h:outputText value="#{tempUser.profileType}" />   
                                        
					<h:commandLink value="Update" action="#{userController.loadUser(tempUser.id)}"/>
<!-- 					<form action="#{userController.loadUser(tempUser.id)}"><input type="submit" value="Update" /></form> -->
					
					<h:commandLink value="Delete"
						onclick="if (!confirm('Are you sure you want to delete this User?')) return false"
						action="#{userController.deleteUser(tempUser.id)}"/>				              
                   	
                </h:panelGrid>
            </p:outputPanel>
        </h:panelGrid>
    </p:dataScroller>
</h:form>

		</div>
		
	</div>

</h:body>
</html>
